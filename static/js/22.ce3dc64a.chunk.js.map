{"version":3,"file":"static/js/22.ce3dc64a.chunk.js","mappings":"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","sources":["components/COInstruction.tsx","components/RibInstruction.tsx","projects/pine-pullover/YokeInstruction.tsx","../../truly-even/src/utils.ts"],"sourcesContent":["import { Direction } from \"@tanyoknits/shared\";\nimport SectionInstruction from \"@tanyoknits/shared/src/components/SectionInstruction\";\n\ninterface Props {\n  needle: string;\n  method: string;\n  direction: Direction;\n  coCount: number;\n}\n\nexport default function COInstruction({\n  needle,\n  method,\n  direction,\n  coCount,\n}: Props) {\n  return (\n    <SectionInstruction\n      intro={`ðŸª¡ With a ${needle} needle, use the ${method} method`}\n      rows={[\n        {\n          text: `CO ${coCount} ${\n            direction === \"round\" ? \"in the rnd\" : \"flat\"\n          }`,\n        },\n      ]}\n      rowType={\"CO\"}\n      afterList={[\n        direction === \"round\"\n          ? \"Pm at the end to indicate BOR (middle back)\"\n          : \"\",\n      ]}\n    />\n  );\n}\n","import { getInchAndCm } from \"@tanyoknits/shared\";\nimport { RowType } from \"@tanyoknits/shared\";\nimport SectionInstruction from \"@tanyoknits/shared/src/components/SectionInstruction\";\n\ninterface Props {\n  part: \"Neck band\" | \"Hem\";\n  rib: [number, number];\n  sts: number;\n  length: number;\n  rowType?: RowType;\n  needle?: string;\n}\n\nexport default function RibInstruction({\n  part,\n  needle,\n  rib,\n  sts,\n  length,\n  rowType,\n}: Props) {\n  return (\n    <SectionInstruction\n      title={`${part} ${rib[0]}x${rib[1]} ribbing`}\n      intro={needle != null ? `ðŸª¡ Change to needle size ${needle}` : \"\"}\n      rowType={rowType}\n      startRowID={0}\n      rows={[\n        {\n          text: `(k${rib[0]}, p${rib[1]}), rep (-) to end (${\n            sts / (rib[0] + rib[1])\n          } times)`,\n        },\n        { text: `as rnd 1` },\n      ]}\n      notes={`Work in ribbing for ${getInchAndCm(length)}, reset row count.`}\n    />\n  );\n}\n","import { getTruelyEven } from \"@tanyoknits/truly-even\";\nimport { RaglanIncTable } from \"../../components/RaglanIncTable\";\nimport COInstruction from \"../../components/COInstruction\";\nimport RibInstruction from \"../../components/RibInstruction\";\nimport {\n  PulloverShortRowDiagram,\n  SectionInstruction,\n} from \"@tanyoknits/shared\";\nimport { InstructionProps } from \"./Instruction\";\n\ninterface YokeInstructionProps extends InstructionProps {\n  centerChartStsCount: number;\n}\n\nexport default function YokeInstruction({\n  schema,\n  measurement,\n  centerChartStsCount,\n}: YokeInstructionProps) {\n  // initial increase\n  const endSts = schema.co + schema.initialInc;\n  const incText = getTruelyEven(schema.co / 2, endSts / 2, {\n    avoidEnds: true,\n    sts: \"m1l-m1r\",\n    count: 1,\n    hasDoubleNest: true,\n  });\n\n  // raglan and short row markers\n  const raglanMarker = Math.round(schema.raglan.halfBody / 2);\n  const srStart = Math.round(schema.raglan.sleeve / 2);\n\n  const frontStsAtChartStart = schema.raglanTable.filter(\n    (row) => row.row === schema.shortRow.row + 2\n  )[0].front;\n  const chartBeg = Math.round((frontStsAtChartStart - centerChartStsCount) / 2);\n\n  // After raglan increase at every 2 rows, on the front, check if there are any every 4 rows incease left on the front\n  const allEvery4Times = schema.raglan.every4 - schema.raglan.incSkip;\n\n  return (\n    <>\n      <COInstruction\n        needle=\"US 8 / 5mm\"\n        method=\"Tubular CO\"\n        direction=\"round\"\n        coCount={schema.co}\n      />\n      <RibInstruction\n        part=\"Neck band\"\n        needle=\"US 10 / 6mm\"\n        rib={[1, 1]}\n        sts={schema.co}\n        length={measurement.neck_band_height}\n      />\n      <SectionInstruction\n        title=\"Initial neckline increase\"\n        rows={[\n          {\n            text: `Inc ${schema.initialInc} sts: {${incText.sts.join(\n              \", \"\n            )}}, rep{-}`,\n            notes: `total ${endSts} sts`,\n          },\n          {\n            text: \"ðŸª¡ Change to a US 10.75 / 7mm needle, pm for 4 raglan increase inc as foll while k all sts.\",\n          },\n        ]}\n        afterList={[\n          `From the mBOR, pm A at ${raglanMarker} sts.`,\n          `From A, pm B at ${schema.raglan.sleeve} sts (mA-mB is right sleeve.)`,\n          `From B, pm C at ${schema.raglan.halfBody} sts.`,\n          `From C, pm D at ${schema.raglan.sleeve} sts (mC-mD is left sleeve.)`,\n        ]}\n        startRowID={0}\n      />\n      <SectionInstruction\n        title=\"Short row (SR) tog with raglan inc\"\n        intro=\"SR starts at rnd/row 3. It gradually lifts the back neck by making it taller than the front. SR is worked in St st back and forth (flat). While working on the RS, you also work raglan inc on the two points of each sleeve if your SR passes raglan markers. Pm for two SR start points\"\n        beforeList={[\n          `From A, pm R at ${srStart} sts (mR is the SR start point on RS - right sleeve)`,\n          `From C, pm W at ${\n            schema.raglan.sleeve - srStart\n          } (mW is the SR start point on WS - left sleeve)`,\n        ]}\n        rows={[]}\n      />\n      <PulloverShortRowDiagram\n        {...schema.shortRow}\n        incSkip={schema.raglan.incSkip}\n        sleeve={schema.raglan.sleeve}\n        halfBody={schema.raglan.halfBody}\n        raglanOffset={[2, 1]}\n      />\n      <SectionInstruction\n        intro=\"Pick up all w&t in the next rnd. Cont to work on raglan inc every 2 rows. Rm mR and mW.\"\n        startRowID={schema.shortRow.row + 2}\n        rows={[\n          {\n            text: \"k till 2 sts bef mA, RLI, k2, smA, k, LLI, k till bef mB, RLI, k1, smB, k2, LLI, k till 2 sts bef mC, RLI, k2, smC, k, LLI, k till bef mD, RLI, k1, smD, k2, LLI, k till BOR\",\n          },\n          { text: \"k all\" },\n        ]}\n        notes={`Rep the raglan inc of the last two rows until row ${\n          2 + schema.raglan.every2 * 2\n        }`}\n      />\n      <SectionInstruction\n        title=\"Chart B at the front center\"\n        intro=\"Start to knit chart B at the center of A as you cont raglan inc. Pm at the beg and end of the chart.\"\n        beforeList={[\n          `From B, pm E at ${chartBeg} sts (mE is the beg of chart A.)`,\n          `From E, pm F at ${centerChartStsCount} sts (mF is the end of chart A.)`,\n        ]}\n        startRowID={2 + schema.shortRow.row + 2}\n        rows={[\n          { text: `Work same till mE, smE, work chart B, smF, cont` },\n          { text: `k all` },\n        ]}\n      />\n      <SectionInstruction\n        intro=\"Cont to work on raglan inc every 2 rows on the front side, and every 4 rows on the back side.\"\n        startRowID={2 + schema.raglan.every2 * 2}\n        rows={[\n          {\n            text: \"Work raglan inc all mA, mB, mC, and mD, work chart B at front center\",\n          },\n          // \"k till 2 sts bef mA, RLI, k2, smA, k, LLI, k till bef mB, RLI, k1, smB, k2, LLI, k till mE, work chart B, k till 2 sts bef mC, RLI, k2, smC, k, LLI, k till bef mD, RLI, k1, smD, k2, LLI\",\n          { text: \"k all\" },\n          {\n            text: \"Work raglan inc only around mB and mC, work chart B at front center\",\n          },\n          // \"k till bef mB, RLI, k1, smB, k2, LLI, k till mE, work chart B, k 2 sts bef mC, RLI, k2, smC, k, LLI, k till the BOR\",\n          { text: \"k all\" },\n        ]}\n        notes={`Rep the last 4 rows until row ${\n          2 +\n          schema.raglan.every2 * 2 +\n          (schema.raglan.every4 - allEvery4Times) * 4\n        }.`}\n      />\n      {allEvery4Times > 0 && (\n        <SectionInstruction\n          intro=\"Cont to work on raglan inc every 4 rows at all raglan points (total 8 sts inc'd).\"\n          startRowID={\n            2 +\n            schema.raglan.every2 * 2 +\n            (schema.raglan.every4 - allEvery4Times) * 4\n          }\n          rows={[\n            {\n              text: \"Work raglan inc all mA, mB, mC, and mD, work chart B at front center\",\n            },\n            { text: \"k all\" },\n            { text: \"k all\" },\n            { text: \"k all\" },\n          ]}\n          notes={`${\n            allEvery4Times > 1\n              ? `Rep the last 4 rows until row ${\n                  2 + schema.raglan.every2 * 2 + schema.raglan.every4 * 4\n                }.`\n              : \"\"\n          } Table below shows the sts count at the end of each rnd.`}\n        />\n      )}\n      <RaglanIncTable direction=\"round\" {...schema.raglan} />\n    </>\n  );\n}\n","import {\n  getDec2StsList,\n  getChangeStsList,\n  getStsListRepets,\n} from \"@tanyoknits/shared\";\n\nexport type IncStsType = \"m1-m1\" | \"m1r-m1l\" | \"m1l-m1r\";\nexport type DecStsType =\n  | \"k2tog-k2tog\"\n  | \"ssk-ssk\"\n  | \"k2tog-ssk\"\n  | \"ssk-k2tog\"\n  | \"cdd-cdd-k2tog\"\n  | \"k3tog-k3tog-k2tog\"\n  | \"sk2p-sk2p-ssk\"\n  | \"k3tog-sk2p-ssk\"\n  | \"sk2p-k3tog-k2tog\";\n\nexport interface OptionType {\n  avoidEnds: boolean;\n  sts: DecStsType | IncStsType;\n  count: number;\n  hasDoubleNest: boolean;\n}\n\n// Get truly even increase or decrease instruction\nexport function getTruelyEven(\n  startSts: number,\n  endSts: number,\n  option: OptionType\n): { sts: string[]; avoidEndAvailable: boolean; doubleNestAvailable: boolean } {\n  let avoidEndAvailable = true;\n  let doubleNestAvailable = false;\n\n  // Inc/Dec stitch point list\n  const stsPoints =\n    option.count === 3\n      ? getDec2StsList(startSts, endSts)\n      : getChangeStsList(startSts, endSts);\n  const { avoidEnds, sts, count, hasDoubleNest } = option;\n\n  // If users don't want to end with inc/dec at the end, start it early\n  const tailSts = Math.floor((stsPoints[0] - count) / 2);\n  if (tailSts === 0) {\n    avoidEndAvailable = false;\n  }\n  if (avoidEnds) {\n    stsPoints[0] -= tailSts;\n  }\n\n  // Generate text from all 'k' include increase or decreases stitches\n  const incDecStsList = stsPoints.map((stsCount, i) => {\n    const stsTypes = sts.split(\"-\");\n    return count === 3 &&\n      i === stsPoints.length - 1 &&\n      (endSts - startSts) % 2 !== 0 // orphan increase for 2 sts dec\n      ? `k${stsCount - 2}, ${stsTypes[2]}`\n      : `k${stsCount - count}, ${\n          // For increase, count is 0 since it's adding a new M stitch\n          i < stsPoints.length / 2 ? stsTypes[0] : stsTypes[1]\n        }`;\n  });\n  if (avoidEnds && tailSts > 0) {\n    incDecStsList.push(`k${tailSts}`);\n  }\n\n  // Repeated stitches are now presented with \"X times\"\n  const stsMultiplied: string[] = getStsListRepets(incDecStsList);\n\n  // Check multiple increase groups are repeated\n  // e.g., [(k2, m1), (k3, m1) x 3] x 4\n  let repeatCheckIdx = 0;\n\n  const nested = stsMultiplied.reduce((labels: string[], sts, idx) => {\n    // Skip sts that's already applied to the previous repeats\n    if (idx < repeatCheckIdx) {\n      return labels;\n    }\n    // Recursive: if repeats aren't found, increase the number of repeated sts\n    // start with two (e.g., (k2, m1), (k3, m1) x 3)\n    function checkRepeats(count: number): string[][] {\n      const repeats = [stsMultiplied.slice(idx, idx + count)];\n      for (let i = idx + count; i <= stsMultiplied.length - count; i += count) {\n        // check if the following repeats are the same\n        if (\n          JSON.stringify(repeats[0]) ===\n          JSON.stringify(stsMultiplied.slice(i, i + count))\n        ) {\n          repeats.push(repeats[0]);\n          doubleNestAvailable = true;\n        } else {\n          break;\n        }\n      }\n      if (repeats.length > 1 || count > stsMultiplied.length / 2) {\n        return repeats;\n      }\n      return checkRepeats(count + 1);\n    }\n\n    const repeats = checkRepeats(2);\n\n    if (repeats.length > 1) {\n      const labelRepeats = repeats[0];\n      labels.push(`[${labelRepeats.join(\", \")}] x ${repeats.length}`);\n      // Skip all repeated ones\n      repeatCheckIdx += repeats.flat().length;\n    } else {\n      labels.push(sts);\n      // Go to the next repeat\n      repeatCheckIdx++;\n    }\n    return labels;\n  }, []);\n\n  return {\n    sts: hasDoubleNest ? nested : stsMultiplied,\n    avoidEndAvailable,\n    doubleNestAvailable,\n  };\n}\n"],"names":["COInstruction","needle","method","direction","coCount","SectionInstruction","intro","rows","text","rowType","afterList","RibInstruction","part","rib","sts","length","title","startRowID","notes","getInchAndCm","YokeInstruction","schema","measurement","centerChartStsCount","endSts","co","initialInc","incText","getTruelyEven","avoidEnds","count","hasDoubleNest","raglanMarker","Math","round","raglan","halfBody","srStart","sleeve","frontStsAtChartStart","raglanTable","filter","row","shortRow","front","chartBeg","allEvery4Times","every4","incSkip","neck_band_height","join","beforeList","raglanOffset","every2","RaglanIncTable","startSts","option","avoidEndAvailable","doubleNestAvailable","stsPoints","getDec2StsList","getChangeStsList","tailSts","floor","incDecStsList","map","stsCount","i","stsTypes","split","push","stsMultiplied","getStsListRepets","repeatCheckIdx","nested","reduce","labels","idx","repeats","checkRepeats","slice","JSON","stringify","labelRepeats","flat"],"sourceRoot":""}